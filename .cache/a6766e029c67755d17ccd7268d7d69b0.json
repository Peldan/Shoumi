{"id":"js\\index.js","dependencies":[{"name":"C:\\Users\\arvid\\IdeaProjects\\Shoumi\\package.json","includedInParent":true,"mtime":1537044159153}],"generated":{"js":"const { app, BrowserWindow, Menu, Tray, ipcMain } = require('electron');\r\nconst { autoUpdater } = require('electron-updater');\r\nconst isDev = require('electron-is-dev');\r\nconst log = require('electron-log');\r\nrequire('electron-reload')(__dirname);\r\nlog.transports.file.level = \"info\";\r\nlet settingsWindow, window;\r\nlet template = 'index.html';\r\nlet settingsTemplate = 'settings.html';\r\nlet fileName;\r\nlet tray = null;\r\nlet isQuitting = false;\r\nconst menuTemplate = [\r\n    {\r\n        label: 'File',\r\n        submenu: [\r\n            {label: 'Open'},\r\n            {label: 'Settings', click: () => {\r\n                openSettings();\r\n            }},\r\n            {role: 'quit'}\r\n     ]\r\n    },\r\n    {\r\n        label: 'Edit',\r\n        submenu: [\r\n            {role: 'undo'},\r\n            {role: 'redo'}\r\n        ]\r\n    }]\r\nautoUpdater.logger = require('electron-log');\r\nautoUpdater.logger.transports.file.level = 'info';\r\n\r\n\r\nfunction createWindow(){\r\n    window = new BrowserWindow({width: 880, height: 390});\r\n    window.loadFile(template);\r\n    if(isDev){\r\n        window.webContents.openDevTools();\r\n    }\r\n    const menu = Menu.buildFromTemplate(menuTemplate);\r\n    Menu.setApplicationMenu(menu);\r\n    if(typeof fileName !== \"undefined\"){\r\n        window.webContents.on('did-finish-load', () => {\r\n            window.webContents.send('image-msg', fileName);\r\n        })\r\n    }\r\n    window.on('minimize', (event) =>{\r\n        event.preventDefault();\r\n        window.hide();\r\n    });\r\n\r\n    window.on('close', () => {\r\n        window = null;\r\n        app.quit();\r\n    });\r\n    window.on('will-navigate', (e) => {\r\n        e.preventDefault();\r\n    });\r\n}\r\n\r\nfunction openSettings(){\r\n    settingsWindow = new BrowserWindow({\r\n        width: 400,\r\n        height: 500,\r\n        resizable: false\r\n    });\r\n    settingsWindow.loadFile(settingsTemplate);\r\n    settingsWindow.on('close', () => {\r\n        settingsWindow = null;\r\n    });\r\n}\r\n\r\napp.on('ready', () => {\r\n    createWindow();\r\n    if(isDev){\r\n        tray = new Tray('./build/icon.ico');\r\n    } else {\r\n        log.info(\"Dirname: \" + __dirname + \" resources: \" + process.resourcesPath);\r\n        console.log(__dirname);\r\n        tray = new Tray(process.resourcesPath + '\\\\icon.ico');\r\n    }\r\n\r\n    const contextMenu = Menu.buildFromTemplate([\r\n        {label: 'Show', click: () => {\r\n            window.show();\r\n        }},\r\n        {label: 'Exit', click: () => {\r\n            isQuitting = true;\r\n            app.quit();\r\n        }},\r\n    ])\r\n    tray.setToolTip(\"Shoumi - Image viewer\");\r\n    tray.setContextMenu(contextMenu);\r\n    if(!isDev) {\r\n        autoUpdater.checkForUpdatesAndNotify();\r\n    }\r\n});\r\n\r\nipcMain.on('requestsocket', (event, arg) => {\r\n    event.returnValue = socket;\r\n})\r\n\r\n\r\n\r\n\r\n\r\n","map":{"mappings":[{"source":"js\\index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"js\\index.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"js\\index.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"js\\index.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"js\\index.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"js\\index.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"js\\index.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"js\\index.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"js\\index.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"js\\index.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"js\\index.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"js\\index.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"js\\index.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"js\\index.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"js\\index.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"js\\index.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"js\\index.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"js\\index.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"js\\index.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"js\\index.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"js\\index.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"js\\index.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"js\\index.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"js\\index.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"js\\index.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"js\\index.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"js\\index.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"js\\index.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"js\\index.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"js\\index.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"js\\index.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"js\\index.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"js\\index.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"js\\index.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"js\\index.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"js\\index.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"js\\index.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"js\\index.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"js\\index.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"js\\index.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"js\\index.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"js\\index.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"js\\index.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"js\\index.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"js\\index.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"js\\index.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"js\\index.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"js\\index.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"js\\index.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"js\\index.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"js\\index.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"js\\index.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"js\\index.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"js\\index.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"js\\index.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"js\\index.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"js\\index.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"js\\index.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"js\\index.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"js\\index.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"js\\index.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"js\\index.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"js\\index.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"js\\index.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"js\\index.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"js\\index.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"js\\index.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"js\\index.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"js\\index.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"js\\index.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"js\\index.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"js\\index.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"js\\index.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"js\\index.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"js\\index.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"js\\index.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"js\\index.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"js\\index.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"js\\index.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"js\\index.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"js\\index.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"js\\index.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"js\\index.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"js\\index.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"js\\index.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"js\\index.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"js\\index.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"js\\index.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"js\\index.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"js\\index.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"js\\index.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"js\\index.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"js\\index.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"js\\index.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"js\\index.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"js\\index.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"js\\index.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"js\\index.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"js\\index.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"js\\index.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"js\\index.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"js\\index.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"js\\index.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"js\\index.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"js\\index.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"js\\index.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"js\\index.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"js\\index.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}}],"sources":{"js\\index.js":"const { app, BrowserWindow, Menu, Tray, ipcMain } = require('electron');\r\nconst { autoUpdater } = require('electron-updater');\r\nconst isDev = require('electron-is-dev');\r\nconst log = require('electron-log');\r\nrequire('electron-reload')(__dirname);\r\nlog.transports.file.level = \"info\";\r\nlet settingsWindow, window;\r\nlet template = 'index.html';\r\nlet settingsTemplate = 'settings.html';\r\nlet fileName;\r\nlet tray = null;\r\nlet isQuitting = false;\r\nconst menuTemplate = [\r\n    {\r\n        label: 'File',\r\n        submenu: [\r\n            {label: 'Open'},\r\n            {label: 'Settings', click: () => {\r\n                openSettings();\r\n            }},\r\n            {role: 'quit'}\r\n     ]\r\n    },\r\n    {\r\n        label: 'Edit',\r\n        submenu: [\r\n            {role: 'undo'},\r\n            {role: 'redo'}\r\n        ]\r\n    }]\r\nautoUpdater.logger = require('electron-log');\r\nautoUpdater.logger.transports.file.level = 'info';\r\n\r\n\r\nfunction createWindow(){\r\n    window = new BrowserWindow({width: 880, height: 390});\r\n    window.loadFile(template);\r\n    if(isDev){\r\n        window.webContents.openDevTools();\r\n    }\r\n    const menu = Menu.buildFromTemplate(menuTemplate);\r\n    Menu.setApplicationMenu(menu);\r\n    if(typeof fileName !== \"undefined\"){\r\n        window.webContents.on('did-finish-load', () => {\r\n            window.webContents.send('image-msg', fileName);\r\n        })\r\n    }\r\n    window.on('minimize', (event) =>{\r\n        event.preventDefault();\r\n        window.hide();\r\n    });\r\n\r\n    window.on('close', () => {\r\n        window = null;\r\n        app.quit();\r\n    });\r\n    window.on('will-navigate', (e) => {\r\n        e.preventDefault();\r\n    });\r\n}\r\n\r\nfunction openSettings(){\r\n    settingsWindow = new BrowserWindow({\r\n        width: 400,\r\n        height: 500,\r\n        resizable: false\r\n    });\r\n    settingsWindow.loadFile(settingsTemplate);\r\n    settingsWindow.on('close', () => {\r\n        settingsWindow = null;\r\n    });\r\n}\r\n\r\napp.on('ready', () => {\r\n    createWindow();\r\n    if(isDev){\r\n        tray = new Tray('./build/icon.ico');\r\n    } else {\r\n        log.info(\"Dirname: \" + __dirname + \" resources: \" + process.resourcesPath);\r\n        console.log(__dirname);\r\n        tray = new Tray(process.resourcesPath + '\\\\icon.ico');\r\n    }\r\n\r\n    const contextMenu = Menu.buildFromTemplate([\r\n        {label: 'Show', click: () => {\r\n            window.show();\r\n        }},\r\n        {label: 'Exit', click: () => {\r\n            isQuitting = true;\r\n            app.quit();\r\n        }},\r\n    ])\r\n    tray.setToolTip(\"Shoumi - Image viewer\");\r\n    tray.setContextMenu(contextMenu);\r\n    if(!isDev) {\r\n        autoUpdater.checkForUpdatesAndNotify();\r\n    }\r\n});\r\n\r\nipcMain.on('requestsocket', (event, arg) => {\r\n    event.returnValue = socket;\r\n})\r\n\r\n\r\n\r\n\r\n\r\n"},"lineCount":108}},"hash":"574ff888d55a04dbe422c9254463a8ff","cacheData":{"env":{}}}